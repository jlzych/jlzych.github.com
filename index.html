<!DOCTYPE html>
<html><head>
    <meta charset='utf-8'>
    <title>
      Jeff Zych
    </title>
    <meta content="Jeff Zych's homepage" name='description'>
    <meta content='Jeff Zych' name='author'>
    <meta content='width=device-width, initial-scale=1.0, user-scalable=yes' name='viewport'>
    <meta content='black' name='apple-mobile-web-app-status-bar-style'>
    <meta content='yes' name='apple-mobile-web-app-capable'>
    <link href="/favicon.ico" rel="icon" type="image/ico" />
    <link href="/stylesheets/application.css?1376632265" media="screen" rel="stylesheet" type="text/css" />
    <link href='/feed.xml' rel='alternate' title='RSS for Jeff Zych' type='application/rss+xml'>
    <script src='//use.typekit.net/kbr8kzk.js' type='text/javascript'></script>
    <script>
      try{Typekit.load();}catch(e){}
    </script>
  </head><body>
    <div id='main' role='main'>
      <header>
        <h1 class='monogram'>
                    <a title="Home" href="/"><img alt="JZ" src="/images/monogram.svg?1375857370" />
          Jeff Zych
          </a>

        </h1>
        <nav class='nav-main'>
          <ul>
            <li><a title="About Jeff Zych" href="/about">About</a></li>
            <li><a href="/archives">Archives</a></li>
          </ul>
        </nav>
      </header>
      <div class='content'>
        <article>
          <time datetime='2013-08-26'>
            <i>Posted on</i>
            Aug 26, 2013
          </time>
          <h1><a href="/2013/08/26/a-more-semantic-approach-to-spriting-images/">A More Semantic Approach to Spriting Images</a></h1>
          <p>Spriting images is a well-known, well-documented way to speed up page load times. The standard technique is to set a sprite sheet image as the <code>background-image</code> of an element, and position it so the proper sprite shows through. This works great for icons and other images that aren&rsquo;t part of the actual content, but not so great for images that belong in the page content.</p>
          
          <h2>The problem</h2>
          
          <p>Images that are part of the content should be in <code>img</code> tags. This is correct semantically, good for accessibility, and good for interoperability. With the typical approach to spriting images, you would need empty container elements that have a <code>background-image</code> property. Those empty elements have no semantic meaning, and are worthless to screenreaders and other crawlers that may access your page. This is the situation I found myself in on <a href="https://www.optimizely.com">Optimizely&rsquo;s homepage</a> when I sprited the customer logos and benefits graphics.</p>
          
          <h2>The solution</h2>
          
          <p>Solving this problem is actually fairly simple. First, you&rsquo;ll need markup similar to the following:</p>
          <pre class="highlight html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;sprite-container sprite-track&quot;</span><span class="nt">&gt;</span>&#x000A;  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;sprites.png&quot;</span> <span class="na">alt=</span><span class="s">&quot;Graphic of tracking elements on a web page&quot;</span><span class="nt">&gt;</span>&#x000A;<span class="nt">&lt;/div&gt;</span></pre>
          <p><a href="http://codepen.io/jlzych/pen/ExLzG">View the Codepen</a></p>
          
          <p>The <code>.sprite-container</code> element acts as a window that only lets one sprite show through. It has the same width and height as the sprite, and has <code>overflow: hidden</code> to prevent the other sprites from showing through.</p>
          
          <p>Then the image needs to be positioned so the sprite we want shown is at the top left corner of the window, which is accomplished by setting <code>position: absolute</code> and the <code>top</code> and <code>left</code> properties correctly. SCSS:</p>
          <pre class="highlight scss"><span class="nc">.sprite-container</span> <span class="p">{</span>&#x000A;  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>  <span class="c1">// or block&#x000A;</span>  <span class="nl">height</span><span class="p">:</span> <span class="m">275px</span><span class="p">;</span>          <span class="c1">// size of the image we want to show&#x000A;</span>  <span class="nl">width</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>&#x000A;  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>       <span class="c1">// prevent the other sprites from showing&#x000A;</span>  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>     <span class="c1">// so the image can be positioned absolutely&#x000A;</span>&#x000A;  <span class="nt">img</span> <span class="p">{</span>&#x000A;    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>&#x000A;  <span class="p">}</span>&#x000A;&#x000A;  <span class="k">&amp;</span><span class="nc">.sprite-track</span> <span class="nt">img</span> <span class="p">{</span>&#x000A;    <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>&#x000A;    <span class="nl">top</span><span class="p">:</span> <span class="m">-210px</span><span class="p">;</span>&#x000A;  <span class="p">}</span>&#x000A;&#x000A;  <span class="c1">// other sprites&#x000A;</span><span class="p">}</span></pre>
          <p>Codepen:</p>
          
          <p data-height="268" data-theme-id="0" data-slug-hash="ExLzG" data-user="jlzych" data-default-tab="result" class='codepen'>See the Pen <a href='http://codepen.io/jlzych/pen/ExLzG'>ExLzG</a> by Jeff (<a href='http://codepen.io/jlzych'>@jlzych</a>) on <a href='http://codepen.io'>CodePen</a></p>
          
          <script async src="http://codepen.io/assets/embed/ei.js"></script>
          
          <p>Generating this CSS can be a pain, but I will discuss how to accomplish this with Compass in my next blog post.</p>
          
          <h2>Closing Thoughts</h2>
          
          <p>This method lets us use sprites in <code>img</code> tags, which is more semantic than empty <code>div</code>s or <code>span</code>s (depending on the use case). However, it has a couple of drawbacks. First, it requires a container element around your image. This could add unneccessary bloat to your markup (in my case the image already had a parent element). Second, and greatest of all, the image <code>src</code> attribute now references an entire sprite sheet, when technically it should only reference the actual image that it&rsquo;s showing. Screenreaders won&rsquo;t care at all, but some services may use this image for other purposes. For example, Facebook grabs a representative image of your page when a link is shared, and it could grab a sprite sheet instead of the actual image. That&rsquo;s no good.</p>
          
          <p>Ultimately it&rsquo;s a tradeoff between having a container element and actual <code>img</code> tag in your markup versus an empty element whose background image is a sprite. Overall, I think the pros (semantic HTML; better accessibility) outweigh the cons (container element; <code>src</code> attribute is a sprite sheet). If you want to use sprites with actual <code>img</code> tags, this is a solid technique. If anyone has any thoughts on how to overcome the drawbacks, hit me up <a href="http://twitter.com/jlzych">@jlzych</a>.</p>
          <footer class='tags'>
            Tags:
            <span class='tag'>html</span>
            <span class='tag'>css</span>
          </footer>
        </article>
        <article>
          <time datetime='2013-08-15'>
            <i>Posted on</i>
            Aug 15, 2013
          </time>
          <h1><a href="/2013/08/15/performance-comparison-of-serving-fonts-through-typekit-vs-cloud-typography/">Performance comparison of serving fonts through Typekit vs Cloud.typography</a></h1>
          <p>On <a href="https://www.optimizely.com">optimizely.com</a>, we just switched our typeface from Proxima Nova (via <a href="http://typekit.com">Typekit</a>), to Gotham (via Hoefler &amp; Frere-Jones <a href="http://typography.com">Cloud.typography</a>). Gotham has long been what we used in Photoshop mocks, but we made the switch mostly because it just looks better. We&rsquo;ve long known that Typekit can be a bottleneck to our page load, so I took this opportunity to compare the performance impact of each service.</p>
          
          <p><em>Note: these are just some quick comparisons of the speeds based on my machine using optimizely.com. Your experience may vary.</em></p>
          
          <h2>Typekit</h2>
          
          <p>To use Typekit, you must insert JS in the head of your page, like so:</p>
          <pre class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;//use.typekit.net/abc1def.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>&#x000A;<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span><span class="k">try</span><span class="p">{</span><span class="nx">Typekit</span><span class="p">.</span><span class="nx">load</span><span class="p">();}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}</span><span class="nt">&lt;/script&gt;</span></pre>
          <p>It&rsquo;s well known that script tags in the <code>&lt;head&gt;</code> of the document block page rendering. If the Typekit service is down, or slow, the page can take a significantly long time to render.</p>
          
          <p>This script determines which fonts to serve to the user <a href="http://blog.typekit.com/2012/08/16/performance-improvements-to-font-serving/">based on their OS and browser</a>.</p>
          
          <p>Based on a few pageloads on my Macbook Pro and looking through Chrome&rsquo;s timeline, Typekit&rsquo;s JS takes about 300ms to download and 900ms to download the actual fonts, for a total of about 1100ms. Additionally, the script sets a timeout fires until the fonts have loaded, consuming processing power (typically not an issue, but could potentially be significant on mobile). Finally, 410kb of fonts are downloaded (font size and download time both depends on the OS and browser).</p>
          
          <h2>Cloud.typography</h2>
          
          <p>To use Cloud.typography, you need to add a <code>&lt;link&gt;</code> tag in the <code>&lt;head&gt;</code> of your page, like so:</p>
          <pre class="highlight html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;//Cloud.typography.com/1234567/123456/css/fonts.css&quot;</span><span class="nt">&gt;</span></pre>
          <p>Unlike Typekit, Cloud.typography requires you to host the font files on your own servers (CDN, web server, etc.). Depending on your infrastructure, this could be a big advantage over Typekit. But Typekit also servers its fonts over a CDN, so this is unlikely to be much of a gamechanger, speed-wise.</p>
          
          <p>When the page loads, one request is made to <code>fonts.css</code>. Their server then does some work to determine which CSS file to redirect to (based on OS and browser), and then sends back a response of <code>302 Moved Temporarily</code> with the <code>Location</code> header set to the path of one of the CSS files you uploaded. Most fonts are encoded as data-uris in the stylesheets (unless you&rsquo;re IE and need references to <code>.eot</code> files). This means there are 2 requests (for most browsers), and all the work of determining which fonts to return to the user is done on their servers (instead of on the user&rsquo;s machine via JS with Typekit).</p>
          
          <p>Based on a few pageloads in Chrome on my computer, the fonts took about 800ms to load (~200ms for <code>fonts.css</code>, and another 600ms for the CSS file with the actual fonts). The fonts are 251kb in Chrome, but are between 100 and 500kb depending on the OS and browser.</p>
          
          <p>I also did some tests on <a href="http://webpagetest.org">webpagetest.org</a> from various locations, and found in total the fonts take between 300ms (France and Russia) and 1000ms (Brazil and San Jose) to download (this includes the 302 response from <code>fonts.css</code> and downloading the CSS file from your servers). Unfortunately I don&rsquo;t have this comparison data for Typekit.</p>
          
          <h2>Takeaways</h2>
          
          <p>On <a href="https://www.optimizely.com">optimizely.com</a>, Cloud.typography edges out Typekit for load times (about 800ms vs 1100ms on my computer, or about 27% faster). Part of this can be attributed to the obvious fact that the size of the fonts is smaller with Cloud.typography, which is largely because we&rsquo;re serving fewer fonts to the user than we did with Typekit.</p>
          
          <p>However, Typekit blocks rendering by having a <code>&lt;script&gt;</code> tag in the head of the document, whereas Cloud.typography uses a <code>&lt;link&gt;</code> tag that allows the page to continue <a href="http://developer.yahoo.com/performance/rules.html#css_top">rendering progressively</a>.</p>
          
          <p>Additionally, Typekit taxes the user&rsquo;s machine by executing Javascript to determine which fonts to load, whereas Cloud.typography does this on their servers. Although the JS is pretty minimal, it could impact older or more resource-constrained machines. Personally, I like that Cloud.typography moved this logic off of users&#39; machines and onto their servers.</p>
          
          <h2>Conclusion</h2>
          
          <p>In the end, both services are solid and the speed difference is minimal. I like Cloud.typography&rsquo;s approach of only having a link to a CSS file instead of executing javascript, and the ability to host files yourself is nice. But which service you choose should ultimately come down to whichever fonts you like more.</p>
          <footer class='tags'>
            Tags:
            <span class='tag'>performance</span>
          </footer>
        </article>
        <article>
          <time datetime='2013-08-02'>
            <i>Posted on</i>
            Aug  2, 2013
          </time>
          <h1><a href="/2013/08/02/everyones-reading-this-increase-conversions-with-social-proof/">Everyone’s Reading This: Increase Conversions With Social Proof</a></h1>
          <p>Looking for a way to get users to engage with your product or service? Just tell them everyone else is doing it. Although we like to think of ourselves as independent beings who make our own decisions, studies show that touting popularity and ubiquity is a very effective form of persuasion.</p>
          
          <p>This is known as <em>social proof</em>.</p>
          
          <p>Generally, we don’t like to stand out from the crowd. Our lizard brains tell us it’s dangerous to deviate from the norm. In prehistoric times, deviating from the group meant getting attacked by predators. Predators are not much of a concern anymore, but studies show that sticking with the norm still persists and affects us in other ways. For example, <a title="Understanding and motivating energy conservation via social norms (pdf)" href="http://opower.com/uploads/library/file/2/understanding_and_motivating_energy_conservation_via_social_norms.pdf">one study</a> tested the effectiveness of wording in persuading people to use less electricity. Four different placards were placed on the doors of residents, which informed them:</p>
          
          <ul>
          <li>They could save $54 a month on their utility bill.</li>
          <li>They could prevent the release of 262 pounds of greenhouse gases per month.</li>
          <li>It’s the socially responsible thing to do.</li>
          <li>77% of their neighbors already used fans instead of air conditioning, a decision described as &ldquo;your community’s popular choice!&rdquo;</li>
          </ul>
          
          <p>The last group reduced energy consumption by 10% &mdash; the highest of any group. This means it was more effective than saving money, espousing benefits, or explaining it’s the &ldquo;right&rdquo; or &ldquo;moral&rdquo; thing to do.</p>
          
          <p>You can use this same phenomenon to increase conversions on your site through A/B testing, whether that’s signing up for a service, donating money, or using a product feature.</p>
          
          <p><a title="Spillnow.com homepage" href="http://spillnow.com">Spillnow.com</a> ran a test that demonstrates this phenomenon well. The site is a place for people to spill their guts on anything bothering them, and other users can respond with advice and encouragement. However, they had an issue with too many people venting and not enough users responding. In order to increase responders, they added this text to the &ldquo;spill&rdquo; form: &ldquo;50% of people go on to be responders.&rdquo; This simple piece of text increased the number of users who respond to other people’s spills by 27% (from 48% to 61%).</p>
          
          <p>Another great example is <a href="http://basecamp.com/">Basecamp’s homepage</a>, which has multiple types of social proof.</p>
          
          <p><img alt="Screenshot of Basecamp's homepage" src="/images/basecamp-homepage.png?1375857369" /></p>
          
          <p>At the top of the page they say, &ldquo;Last week 7,389 companies signed up for Basecamp to manage their projects. Today it’s your turn.&rdquo; The main content features a woman saying she uses Basecamp (the picture also has the added benefits of making the statement more believable and trustworthy). And at the bottom, they say, &ldquo;97% of customers recommend Basecamp. Find out why →&rdquo;. These are all great ways to demonstrate that lots of people use your service and increase clickthrough.</p>
          
          <p>And this is just the tip of the iceberg &mdash; there are many ways social proof can be used across your site. These are all quick, simple changes that can be added to just about any page using our A/B testing tool, without requiring design or engineering resources. If you’re looking for a way to get users to click your call to action, use a product feature, or engage with your site, then social proof is a great way to boost conversions.</p>
          
          <h3>Further reading</h3>
          
          <p><a href="http://blog.kissmetrics.com/social-proof-factors/">&ldquo;7 Things You MUST Understand When Leveraging Social Proof in Your Marketing Efforts&rdquo;</a> &mdash; The Kissmetrics Blog</p>
          
          <p><a href="http://online.wsj.com/article/SB10001424052748704575304575296243891721972.html">&ldquo;The Secret to Turning Consumers Green&rdquo;</a> &mdash; The Wall Street Journal</p>
          <footer class='tags'>
            Tags:
            <span class='tag'>testing theory</span>
            <span class='tag'>A/B testing</span>
          </footer>
        </article>
        <a class="view-all-link" href="/archives">View all posts</a>
      </div>
    </div>
    <!-- Google Analytics tracking -->
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21389659-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
