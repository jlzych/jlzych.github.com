<!DOCTYPE html>
<html><head>
    <meta charset='utf-8'>
    <title>
      Jeff Zych
       - Performance comparison of serving fonts through Typekit vs Cloud.typography
    </title>
    <meta content="Jeff Zych's website" name='description'>
    <meta content='Jeff Zych' name='author'>
    <meta content='width=device-width, initial-scale=1.0, user-scalable=yes' name='viewport'>
    <meta content='black' name='apple-mobile-web-app-status-bar-style'>
    <meta content='yes' name='apple-mobile-web-app-capable'>
    <!-- FB Open Graph meta tags -->
    <meta content='blog' property='og:type'>
    <meta content="Jeff Zych's Blog" property='og:site_name'>
    <meta content='http://jlzych.com/images/monogram.png' property='og:image'>
    <meta content='image/png' property='og:image:type'>
    <meta content='1024' property='og:image:width'>
    <meta content='1024' property='og:image:height'>
    <meta content='http://jlzych.com/2013/08/15/performance-comparison-of-serving-fonts-through-typekit-vs-cloud-typography/' property='og:url'>
    <meta content='Performance comparison of serving fonts through Typekit vs Cloud.typography' property='og:title'>
    <link href="/favicon.ico?v=1" rel="icon" type="image/ico?v=1" />
    <link href="/stylesheets/application.css?1381713378" media="screen" rel="stylesheet" type="text/css" />
    <link href='/feed.xml' rel='alternate' title='RSS for Jeff Zych' type='application/rss+xml'>
    <script src='//use.typekit.net/kbr8kzk.js' type='text/javascript'></script>
    <script>
      try{Typekit.load();}catch(e){}
    </script>
  </head><body>
    <div id='main' role='main'>
      <header>
        <h1 class='monogram'>
                    <a title="Home" href="/"><img alt="JZ" src="/images/monogram.svg?1378005138" />
          Jeff Zych
          </a>

        </h1>
        <nav class='nav-main'>
          <ul>
            <li><a title="About Jeff Zych" href="/about">About</a></li>
            <li><a href="/archives">Archives</a></li>
          </ul>
        </nav>
      </header>
      <div class='content'>
        <article>
          <time datetime='2013-08-15'>
            <i>Posted on</i>
            Aug 15, 2013
          </time>
          <h1><a href="/2013/08/15/performance-comparison-of-serving-fonts-through-typekit-vs-cloud-typography/">Performance comparison of serving fonts through Typekit vs Cloud.typography</a></h1>
          <p>On <a href="https://www.optimizely.com">optimizely.com</a>, we just switched our typeface from Proxima Nova (via <a href="http://typekit.com">Typekit</a>), to Gotham (via Hoefler &amp; Frere-Jones <a href="http://typography.com">Cloud.typography</a>). Gotham has long been what we used in Photoshop mocks, but we made the switch mostly because it just looks better. We&rsquo;ve long known that Typekit can be a bottleneck to our page load, so I took this opportunity to compare the performance impact of each service.</p>
          
          <p><em>Note: these are just some quick comparisons of the speeds based on my machine using optimizely.com. Your experience may vary.</em></p>
          
          <h2>Typekit</h2>
          
          <p>To use Typekit, you must insert JS in the head of your page, like so:</p>
          <pre class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;//use.typekit.net/abc1def.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>&#x000A;<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span><span class="k">try</span><span class="p">{</span><span class="nx">Typekit</span><span class="p">.</span><span class="nx">load</span><span class="p">();}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}</span><span class="nt">&lt;/script&gt;</span></pre>
          <p>It&rsquo;s well known that script tags in the <code>&lt;head&gt;</code> of the document block page rendering. If the Typekit service is down, or slow, the page can take a significantly long time to render.</p>
          
          <p>This script determines which fonts to serve to the user <a href="http://blog.typekit.com/2012/08/16/performance-improvements-to-font-serving/">based on their OS and browser</a>.</p>
          
          <p>Based on a few pageloads on my Macbook Pro and looking through Chrome&rsquo;s timeline, Typekit&rsquo;s JS takes about 300ms to download and 900ms to download the actual fonts, for a total of about 1100ms. Additionally, the script sets a timeout fires until the fonts have loaded, consuming processing power (typically not an issue, but could potentially be significant on mobile). Finally, 410kb of fonts are downloaded (font size and download time both depends on the OS and browser).</p>
          
          <h2>Cloud.typography</h2>
          
          <p>To use Cloud.typography, you need to add a <code>&lt;link&gt;</code> tag in the <code>&lt;head&gt;</code> of your page, like so:</p>
          <pre class="highlight html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;//Cloud.typography.com/1234567/123456/css/fonts.css&quot;</span><span class="nt">&gt;</span></pre>
          <p>Unlike Typekit, Cloud.typography requires you to host the font files on your own servers (CDN, web server, etc.). Depending on your infrastructure, this could be a big advantage over Typekit. But Typekit also servers its fonts over a CDN, so this is unlikely to be much of a gamechanger, speed-wise.</p>
          
          <p>When the page loads, one request is made to <code>fonts.css</code>. Their server then does some work to determine which CSS file to redirect to (based on OS and browser), and then sends back a response of <code>302 Moved Temporarily</code> with the <code>Location</code> header set to the path of one of the CSS files you uploaded. Most fonts are encoded as data-uris in the stylesheets (unless you&rsquo;re IE and need references to <code>.eot</code> files). This means there are 2 requests (for most browsers), and all the work of determining which fonts to return to the user is done on their servers (instead of on the user&rsquo;s machine via JS with Typekit).</p>
          
          <p>Based on a few pageloads in Chrome on my computer, the fonts took about 800ms to load (~200ms for <code>fonts.css</code>, and another 600ms for the CSS file with the actual fonts). The fonts are 251kb in Chrome, but are between 100 and 500kb depending on the OS and browser.</p>
          
          <p>I also did some tests on <a href="http://webpagetest.org">webpagetest.org</a> from various locations, and found in total the fonts take between 300ms (France and Russia) and 1000ms (Brazil and San Jose) to download (this includes the 302 response from <code>fonts.css</code> and downloading the CSS file from your servers). Unfortunately I don&rsquo;t have this comparison data for Typekit.</p>
          
          <h2>Takeaways</h2>
          
          <p>On <a href="https://www.optimizely.com">optimizely.com</a>, Cloud.typography edges out Typekit for load times (about 800ms vs 1100ms on my computer, or about 27% faster). Part of this can be attributed to the obvious fact that the size of the fonts is smaller with Cloud.typography, which is largely because we&rsquo;re serving fewer fonts to the user than we did with Typekit.</p>
          
          <p>However, Typekit blocks rendering by having a <code>&lt;script&gt;</code> tag in the head of the document, whereas Cloud.typography uses a <code>&lt;link&gt;</code> tag that allows the page to continue <a href="http://developer.yahoo.com/performance/rules.html#css_top">rendering progressively</a>.</p>
          
          <p>Additionally, Typekit taxes the user&rsquo;s machine by executing Javascript to determine which fonts to load, whereas Cloud.typography does this on their servers. Although the JS is pretty minimal, it could impact older or more resource-constrained machines. Personally, I like that Cloud.typography moved this logic off of users&#39; machines and onto their servers.</p>
          
          <h2>Conclusion</h2>
          
          <p>In the end, both services are solid and the speed difference is minimal. I like Cloud.typography&rsquo;s approach of only having a link to a CSS file instead of executing javascript, and the ability to host files yourself is nice. But which service you choose should ultimately come down to whichever fonts you like more.</p>
          <p class='follow-me'>
            Thoughts? Reply
            <a href="https://twitter.com/intent/tweet?screen_name=jlzych">@jlzych</a>
          </p>
          <footer class='tags'>
            Tags:
            <span class='tag'>performance</span>
          </footer>
        </article>
      </div>
      <footer id='site-footer'>
        <p>
          &copy; 2010&ndash;2014 Jeff Zych
          &bull; Hand-crafted with
          <a href="http://middlemanapp.com/">Middleman</a>
        </p>
        <a style="display: none;" href="http://plus.google.com/+JeffZych?rel=author">Google+ profile</a>
      </footer>
    </div>
    <!-- Google Analytics tracking -->
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21389659-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>

